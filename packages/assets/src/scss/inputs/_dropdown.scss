@use '../functions' as *;
@use '../variables' as *;
@use '../mixins/utils' as utils-mixins;

.ids-dropdown {
    $self: &;

    position: relative;

    &__source {
        @include utils-mixins.hidden;
    }

    &__widget {
        min-width: calculateRem(160px);
        padding: calculateRem(12px) calculateRem(16px);
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;

        .ids-expander {
            width: initial;
            height: initial;
        }
    }

    &__selection-info {
        user-select: none;
    }

    &__placeholder {
        color: $color-neutral-160;
    }

    &__items-container {
        border-radius: $border-radius-medium;
        border: calculateRem(1px) solid $color-neutral-80;
        background-color: $color-neutral-10;
        margin: calculateRem(4px) 0;
        box-sizing: border-box;
    }

    &__search {
        padding: calculateRem(8px);
    }

    &__search:not([hidden]) + .ids-dropdown__items {
        padding-top: 0;
    }

    &__items {
        list-style: none;
        margin: 0;
        padding: calculateRem(8px);
        max-height: calc(calculateRem(31px) * var(--max-visible-items, 10));
        overflow-y: auto;
        box-sizing: border-box;
    }

    &__item {
        padding: calculateRem(4px) calculateRem(8px);
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
        border: calculateRem(1px) solid transparent;
        border-radius: $border-radius-medium;
        user-select: none;
        outline: none;
    }

    &--single {
        #{$self} {
            &__item {
                &:not(.ids-dropdown__item--selected) {
                    &:hover {
                        color: $color-primary-80;
                        cursor: pointer;
                    }

                    &:active {
                        border-color: $color-primary-80;
                    }

                    &:focus {
                        border-color: $color-primary-80;
                        box-shadow: $box-shadow-focus-primary;
                    }
                }

                &--selected {
                    background-color: $color-neutral-40;
                }
            }
        }
    }
}
